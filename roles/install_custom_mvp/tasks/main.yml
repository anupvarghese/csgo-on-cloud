- name: install plugin files
  tags: custom-mvp
  get_url:
    url: "{{ item }}"
    dest: ~/serverfiles/csgo/addons/sourcemod/plugins/
  with_items:
    - "https://github.com/anupvarghese/CSGO-MVP/tree/master/addons/sourcemod/plugins/FixHintColorMessages.smx?raw=true"
    - "https://github.com/anupvarghese/CSGO-MVP/tree/master/addons/sourcemod/plugins/kento_mvp.smx?raw=true"

- name: install scripting files
  tags: custom-mvp
  get_url:
    url: "{{ item }}"
    dest: ~/serverfiles/csgo/addons/sourcemod/scripting/
  with_items:
    - "https://github.com/anupvarghese/CSGO-MVP/tree/master/addons/sourcemod/scripting/FixHintColorMessages.sp?raw=true"
    - "https://github.com/anupvarghese/CSGO-MVP/tree/master/addons/sourcemod/scripting/kento_mvp.sp?raw=true"

- name: install config file
  tags: custom-mvp
  get_url:
    url: "https://github.com/anupvarghese/CSGO-MVP/tree/master/addons/sourcemod/configs/kento_mvp.cfg?raw=true"
    dest: ~/serverfiles/csgo/addons/sourcemod/configs/

- name: install translation file
  tags: custom-mvp
  get_url:
    url: "https://github.com/anupvarghese/CSGO-MVP/tree/master/addons/sourcemod/translations/kento_mvp.phrases.txt?raw=true"
    dest: ~/serverfiles/csgo/addons/sourcemod/translations/

- name: create directory to store mvp sound files
  file:
    path: ~/serverfiles/csgo/sound/mvp/
    state: directory

- name: copy the mp3 files
  tags: custom-mvp
  get_url:
    url: "{{ item }}"
    dest: ~/serverfiles/csgo/sound/mvp/
  with_items:
    - "https://github.com/anupvarghese/CSGO-MVP/tree/master/sound/mvp/illuminati.mp3?raw=true"
    - "https://github.com/anupvarghese/CSGO-MVP/tree/master/sound/mvp/johncena.mp3?raw=true"
    - "https://github.com/anupvarghese/CSGO-MVP/tree/master/sound/mvp/sirenhead.mp3?raw=true"
  notify: restart_server           